<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rev="made" href="http://www.cc.kyoto-su.ac.jp/~atsushi/">
<link rel="index" href="index.html">
<style type="text/css">
<!--
body {
     background-color : #ffffff;
     margin : 20px;
     padding : 10px;
     font-family : serif;
     font-size : 10pt;
}
-->
</style>
<title>Reader</title>
</head>
<body>
<pre>
<a name="line.1"> 1</a>: package primeministers;
<a name="line.2"> 2</a>: 
<a name="line.3"> 3</a>: import java.io.File;
<a name="line.4"> 4</a>: import java.util.Iterator;
<a name="line.5"> 5</a>: /**
<a name="line.6"> 6</a>:  * リーダ：総理大臣の情報を記したCSVファイルを読み込んでテーブルに仕立て上げる。
<a name="line.7"> 7</a>:  *
<a name="line.8"> 8</a>:  * スタブ作成
<a name="line.9"> 9</a>:  * 10/23 橋坂侑汰
<a name="line.10">10</a>:  */
<a name="line.11">11</a>: public class Reader extends IO 
<a name="line.12">12</a>: {
<a name="line.13">13</a>: 
<a name="line.14">14</a>:     /**
<a name="line.15">15</a>:      * 総理大臣の情報を記したCSVファイルを記憶するフィールド
<a name="line.16">16</a>:      *  10/26 橋坂侑汰
<a name="line.17">17</a>:      */
<a name="line.18">18</a>:     private File filename;
<a name="line.19">19</a>: 
<a name="line.20">20</a>:     /**
<a name="line.21">21</a>:      * コンストラクタ
<a name="line.22">22</a>:      * filenameを初期化する
<a name="line.23">23</a>:      * 10/26 橋坂侑汰
<a name="line.24">24</a>:      */
<a name="line.25">25</a>:     public Reader() 
<a name="line.26">26</a>:     {
<a name="line.27">27</a>:         super();
<a name="line.28">28</a>:         filename = null;
<a name="line.29">29</a>:     }
<a name="line.30">30</a>: 
<a name="line.31">31</a>:     /**
<a name="line.32">32</a>:      * コンストラクタ
<a name="line.33">33</a>:      * filenameを初期化する
<a name="line.34">34</a>:      * 10/26 橋坂侑汰
<a name="line.35">35</a>:      * @param csvfile
<a name="line.36">36</a>:      * 与えられたcsvファイル
<a name="line.37">37</a>:      */
<a name="line.38">38</a>:     public Reader(File csvfile) 
<a name="line.39">39</a>:     {
<a name="line.40">40</a>:         super();
<a name="line.41">41</a>:         filename = csvfile;
<a name="line.42">42</a>:     }
<a name="line.43">43</a>: 
<a name="line.44">44</a>:     /**
<a name="line.45">45</a>:      * ダウンロードしたCSVファイルのローカルなファイルを応答する
<a name="line.46">46</a>:      * 10/26 橋坂侑汰
<a name="line.47">47</a>:      * @return file
<a name="line.48">48</a>:      * File型のローカルなCSVファイル
<a name="line.49">49</a>:      */
<a name="line.50">50</a>:     public File filenameOfCSV() 
<a name="line.51">51</a>:     {
<a name="line.52">52</a>:         return filename.getAbsoluteFile();
<a name="line.53">53</a>:     }
<a name="line.54">54</a>: 
<a name="line.55">55</a>:     /**
<a name="line.56">56</a>:      * ダウンロードしたCSVファイルを応答する
<a name="line.57">57</a>:      * 10/26 橋坂侑汰
<a name="line.58">58</a>:      * @return filename
<a name="line.59">59</a>:      * File型のCSVファイル
<a name="line.60">60</a>:      */
<a name="line.61">61</a>:     public File filename() 
<a name="line.62">62</a>:     {
<a name="line.63">63</a>:         return filename;
<a name="line.64">64</a>:     }
<a name="line.65">65</a>: 
<a name="line.66">66</a>:     /**
<a name="line.67">67</a>:      * ダウンロードしたCSVファイルを読み込んでテーブルを応答する。
<a name="line.68">68</a>:      *  10/26 橋坂侑汰
<a name="line.69">69</a>:      * @return tempTable
<a name="line.70">70</a>:      * CSVファイルをTupleへと変換した変換物群を格納したTable
<a name="line.71">71</a>:      */
<a name="line.72">72</a>:     public Table table()
<a name="line.73">73</a>:     {
<a name="line.74">74</a>:         boolean first = true;
<a name="line.75">75</a>:         Table tempTable = new Table();
<a name="line.76">76</a>:         Iterator&lt;String&gt; ite = super.readTextFromFile(filename).iterator();
<a name="line.77">77</a>:         while (ite.hasNext())
<a name="line.78">78</a>:         {
<a name="line.79">79</a>:             if(first)
<a name="line.80">80</a>:             {
<a name="line.81">81</a>:                 Attributes tempAttributes = new Attributes(ite.next());
<a name="line.82">82</a>:                 tempTable.attributes(tempAttributes);
<a name="line.83">83</a>:                 first=false;
<a name="line.84">84</a>:             }
<a name="line.85">85</a>:             else
<a name="line.86">86</a>:             {
<a name="line.87">87</a>:                 Tuple tempTuple = new Tuple(tempTable.attributes(), super.splitString(ite.next(), &quot;,&quot;));
<a name="line.88">88</a>:                 tempTable.add(tempTuple);
<a name="line.89">89</a>:             }
<a name="line.90">90</a>:         }
<a name="line.91">91</a>:         return tempTable;
<a name="line.92">92</a>:     }
<a name="line.93">93</a>: }
</pre>
<hr>
<p>This document was generated by KSU.TextDoclet on 2013/12/03 at 09:38:47.</p>
</body>
</html>
